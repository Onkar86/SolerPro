import{r as n,a as y,j as a,V as r}from"./index-DkCumAEg.js";import{c as j}from"./index-BZ0pF2jg.js";import{S as b,B as N}from"./Section-Bqk7GYGe.js";import{C as v}from"./Card-naoiKXdQ.js";import{U as F}from"./upload-BmQKgfZP.js";import{F as I}from"./file-text-Dp8b-kmL.js";const D=j("https://gavftmfxkjkpshcvhnjt.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdhdmZ0bWZ4a2prcHNoY3Zobmp0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDUzMjI2NjgsImV4cCI6MjA2MDg5ODY2OH0.Jvvxi1bFflXS1Ks2_CcmefXFUS6eMynygr7GvMce3dY"),C="7712556355:AAFkd9_3_N7HXhfjlPTJdFC3JLzO5MHIm6g",w="6643699289";function E(){const[t,c]=n.useState(null),[l,d]=n.useState(!1),[p,i]=n.useState(!1);y();const f=async e=>{const s=`ðŸ“¥ New file uploaded!
ðŸ“„ File Name: ${e}
ðŸ“… Date: ${new Date().toLocaleString()}`;try{await fetch(`https://api.telegram.org/bot${C}/sendMessage`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chat_id:w,text:s})})}catch(h){console.error("Failed to send Telegram notification:",h)}},o=e=>{e.preventDefault(),e.stopPropagation(),e.type==="dragenter"||e.type==="dragover"?i(!0):e.type==="dragleave"&&i(!1)},g=e=>{if(e.preventDefault(),e.stopPropagation(),i(!1),e.dataTransfer.files&&e.dataTransfer.files[0]){const s=e.dataTransfer.files[0];m(s)}},u=e=>{if(e.target.files&&e.target.files[0]){const s=e.target.files[0];m(s)}},m=e=>{if(e.size>10*1024*1024){r.error("File is too large. Maximum size is 10MB.");return}c(e)},x=async()=>{if(!t){r.error("Please select a file to upload");return}d(!0);try{const{data:e,error:s}=await D.storage.from("uploads").upload(`${Date.now()}-${t.name}`,t);if(s)throw s;await f(t.name),r.success("File uploaded successfully!"),c(null)}catch(e){console.error("Upload error:",e),r.error("Failed to upload file. Please try again.")}finally{d(!1)}};return a.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:a.jsx(b,{children:a.jsx("div",{className:"max-w-2xl mx-auto",children:a.jsxs(v,{className:"p-8",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Upload Files"}),a.jsxs("div",{className:`
                border-2 border-dashed rounded-lg p-8 text-center cursor-pointer
                ${p?"border-blue-500 bg-blue-50":"border-gray-300"}
              `,onDragEnter:o,onDragLeave:o,onDragOver:o,onDrop:g,onClick:()=>{var e;return(e=document.getElementById("file-upload"))==null?void 0:e.click()},children:[a.jsx("input",{id:"file-upload",type:"file",className:"hidden",onChange:u}),a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx(F,{className:"w-12 h-12 text-gray-400 mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-700 mb-2",children:"Drop your file here or click to browse"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Maximum file size: 10MB"}),t&&a.jsxs("div",{className:"mt-4 flex items-center p-2 bg-gray-50 rounded-md",children:[a.jsx(I,{className:"w-5 h-5 mr-2 text-blue-500"}),a.jsx("span",{className:"text-gray-700",children:t.name})]})]})]}),a.jsx("div",{className:"mt-6",children:a.jsx(N,{fullWidth:!0,size:"lg",onClick:x,isLoading:l,disabled:!t||l,children:l?"Uploading...":"Upload File"})})]})})})})}export{E as default};
